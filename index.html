<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SMGEN - Steam Manifest Generator</title>
    <link rel="icon" href="https://store.steampowered.com/favicon.ico" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background: #0a0a0f; color: #e4e4e7; font-family: 'Inter', sans-serif; min-height: 100vh; }
        .bg-ambient { position: fixed; top: 0; left: 0; right: 0; bottom: 0; pointer-events: none; z-index: 0; }
        .bg-ambient::before { content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: radial-gradient(ellipse at 30% 20%, rgba(23, 93, 146, 0.12) 0%, transparent 50%), radial-gradient(ellipse at 70% 80%, rgba(102, 192, 244, 0.08) 0%, transparent 50%); animation: drift 20s ease-in-out infinite; }
        @keyframes drift { 0%, 100% { transform: translate(0, 0); } 50% { transform: translate(-2%, 2%); } }
        .header { position: relative; z-index: 10; padding: 20px 40px; display: flex; align-items: center; justify-content: space-between; border-bottom: 1px solid rgba(255,255,255,0.06); backdrop-filter: blur(20px); background: rgba(10,10,15,0.8); }
        .logo { display: flex; align-items: center; gap: 12px; }
        .logo-icon { width: 42px; height: 42px; background: linear-gradient(135deg, #1a9fff 0%, #0d5c8f 100%); border-radius: 10px; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 20px rgba(26,159,255,0.3); }
        .logo-icon svg { width: 24px; height: 24px; fill: white; }
        .logo-text { font-size: 22px; font-weight: 700; background: linear-gradient(135deg, #1a9fff 0%, #66c0f4 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .vip-badge { background: linear-gradient(135deg, #1a9fff 0%, #66c0f4 100%); color: #0a0a0f; padding: 6px 14px; border-radius: 20px; font-size: 11px; font-weight: 700; letter-spacing: 1px; text-transform: uppercase; }
        .main { position: relative; z-index: 10; max-width: 1000px; margin: 0 auto; padding: 60px 24px; }
        .hero { text-align: center; margin-bottom: 40px; }
        .hero h1 { font-size: 42px; font-weight: 700; margin-bottom: 12px; background: linear-gradient(135deg, #fff 0%, #a1a1aa 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .hero p { color: #71717a; font-size: 16px; max-width: 500px; margin: 0 auto; }
        .stats { display: flex; justify-content: center; gap: 30px; margin-bottom: 40px; flex-wrap: wrap; }
        .stat { text-align: center; }
        .stat-value { font-size: 24px; font-weight: 700; color: #fff; }
        .stat-label { font-size: 10px; color: #52525b; text-transform: uppercase; letter-spacing: 1px; margin-top: 4px; }
        .search-container { margin-bottom: 25px; }
        .search-box { position: relative; max-width: 500px; margin: 0 auto; }
        .search-input { width: 100%; padding: 16px 20px 16px 50px; background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.08); border-radius: 12px; color: #e4e4e7; font-size: 15px; outline: none; transition: all 0.3s; }
        .search-input:focus { border-color: rgba(26,159,255,0.5); background: rgba(255,255,255,0.05); box-shadow: 0 0 0 4px rgba(26,159,255,0.1); }
        .search-input::placeholder { color: #52525b; }
        .search-icon { position: absolute; left: 18px; top: 50%; transform: translateY(-50%); color: #52525b; }
        .section-tabs { display: flex; justify-content: center; gap: 8px; margin-bottom: 20px; flex-wrap: wrap; }
        .section-tab { padding: 8px 14px; background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.08); border-radius: 8px; color: #a1a1aa; font-size: 12px; font-weight: 500; cursor: pointer; transition: all 0.3s; display: flex; align-items: center; gap: 6px; }
        .section-tab:hover { background: rgba(255,255,255,0.06); }
        .section-tab.active { background: rgba(26,159,255,0.15); border-color: rgba(26,159,255,0.4); color: #1a9fff; }
        .section-tab .count { background: rgba(255,255,255,0.1); padding: 2px 6px; border-radius: 8px; font-size: 10px; }
        .section-tab.active .count { background: rgba(26,159,255,0.3); }
        .section-tab[data-section="valve"] { border-left: 3px solid #1a9fff; }
        .section-tab[data-section="rockstar"] { border-left: 3px solid #ef4444; }
        .section-tab[data-section="ea"] { border-left: 3px solid #ff6b35; }
        .section-tab[data-section="ubisoft"] { border-left: 3px solid #0070ff; }
        .section-tab[data-section="denuvo"] { border-left: 3px solid #f59e0b; }
        .section-tab[data-section="drm-free"] { border-left: 3px solid #10b981; }
        .section-tab[data-section="unavailable"] { border-left: 3px solid #ef4444; }
        .results { display: flex; flex-direction: column; gap: 10px; }
        .results-info { text-align: center; color: #52525b; font-size: 13px; margin-bottom: 15px; }
        .results-info strong { color: #1a9fff; }
        .no-results { text-align: center; padding: 60px 20px; color: #52525b; }
        .game-card { background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.06); border-radius: 12px; padding: 14px; display: flex; align-items: center; gap: 14px; transition: all 0.3s; }
        .game-card:hover { background: rgba(255,255,255,0.04); border-color: rgba(26,159,255,0.3); transform: translateY(-1px); }
        .game-card.unavailable { opacity: 0.6; border-color: rgba(239,68,68,0.2); }
        .game-card.unavailable:hover { border-color: rgba(239,68,68,0.4); transform: none; }
        .game-card.denuvo-game { border-left: 3px solid #f59e0b; }
        .game-card.valve-game { border-left: 3px solid #1a9fff; }
        .game-card.drm-free-game { border-left: 3px solid #10b981; }
        .game-image-container { position: relative; flex-shrink: 0; }
        .game-image { width: 120px; height: 45px; border-radius: 6px; object-fit: cover; background: #1a1a24; }
        .unavailable-overlay { position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.7); border-radius: 6px; display: flex; align-items: center; justify-content: center; }
        .unavailable-badge-img { background: #ef4444; color: white; padding: 3px 8px; border-radius: 10px; font-size: 8px; font-weight: 700; text-transform: uppercase; }
        .game-info { flex: 1; min-width: 0; }
        .game-title { font-size: 14px; font-weight: 600; color: #fff; display: flex; align-items: center; gap: 8px; flex-wrap: wrap; margin-bottom: 4px; }
        .game-badges { display: flex; gap: 4px; flex-wrap: wrap; }
        .badge { padding: 2px 6px; border-radius: 4px; font-size: 9px; font-weight: 600; text-transform: uppercase; }
        .badge-valve { background: linear-gradient(135deg, #1a9fff, #66c0f4); color: #000; }
        .badge-rockstar { background: #ef4444; color: #fff; }
        .badge-ea { background: #ff6b35; color: #fff; }
        .badge-ubisoft { background: #0070ff; color: #fff; }
        .badge-denuvo { background: linear-gradient(135deg, #f59e0b, #d97706); color: #000; }
        .badge-drm-free { background: linear-gradient(135deg, #10b981, #059669); color: #fff; }
        .badge-unavailable { background: rgba(239,68,68,0.2); color: #f87171; border: 1px solid rgba(239,68,68,0.3); }
        .game-meta { display: flex; gap: 12px; font-size: 11px; color: #71717a; }
        .meta-value { color: #a1a1aa; font-family: monospace; background: rgba(255,255,255,0.05); padding: 1px 6px; border-radius: 3px; font-size: 10px; }
        .download-btn { padding: 10px 18px; background: linear-gradient(135deg, #1a9fff, #0d7fd4); color: white; border: none; border-radius: 8px; font-size: 12px; font-weight: 600; cursor: pointer; transition: all 0.3s; display: inline-flex; align-items: center; gap: 6px; flex-shrink: 0; }
        .download-btn:hover { transform: scale(1.02); box-shadow: 0 4px 20px rgba(26,159,255,0.4); }
        .download-btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none !important; }
        .download-btn.unavailable-btn { background: #374151; cursor: not-allowed; }
        .download-btn.unavailable-btn:hover { transform: none; box-shadow: none; }
        .download-btn.success { background: linear-gradient(135deg, #10b981, #059669); }
        .download-btn svg { width: 14px; height: 14px; }
        .spinner { width: 14px; height: 14px; border: 2px solid rgba(255,255,255,0.3); border-top-color: white; border-radius: 50%; animation: spin 0.8s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }
        .load-more { display: block; width: 100%; padding: 14px; margin-top: 20px; background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.08); border-radius: 10px; color: #a1a1aa; font-size: 13px; cursor: pointer; transition: all 0.3s; }
        .load-more:hover { background: rgba(26,159,255,0.1); border-color: rgba(26,159,255,0.3); color: #1a9fff; }
        .footer { position: relative; z-index: 10; text-align: center; padding: 30px; color: #3f3f46; font-size: 13px; border-top: 1px solid rgba(255,255,255,0.04); margin-top: 40px; }
        .toast { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%) translateY(100px); background: rgba(16,185,129,0.95); color: white; padding: 14px 24px; border-radius: 10px; font-size: 14px; font-weight: 500; z-index: 1000; opacity: 0; transition: all 0.3s; display: flex; align-items: center; gap: 10px; }
        .toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }
        .toast.error { background: rgba(239,68,68,0.95); }
        .instructions { margin-top: 50px; padding: 20px; background: rgba(26,159,255,0.05); border: 1px solid rgba(26,159,255,0.1); border-radius: 12px; }
        .instructions h3 { font-size: 14px; color: #1a9fff; margin-bottom: 12px; }
        .instructions ol { margin-left: 20px; color: #a1a1aa; font-size: 13px; line-height: 1.8; }
        .instructions code { background: rgba(0,0,0,0.3); padding: 2px 6px; border-radius: 4px; font-family: monospace; font-size: 12px; color: #e4e4e7; }
        .legend { margin-top: 16px; padding: 14px; background: rgba(255,255,255,0.02); border-radius: 8px; }
        .legend h4 { font-size: 11px; color: #71717a; margin-bottom: 10px; text-transform: uppercase; letter-spacing: 1px; }
        .legend-items { display: flex; flex-wrap: wrap; gap: 10px; }
        .legend-item { display: flex; align-items: center; gap: 6px; font-size: 11px; color: #a1a1aa; }
        @media (max-width: 768px) {
            .header { padding: 16px 20px; }
            .main { padding: 40px 16px; }
            .hero h1 { font-size: 28px; }
            .game-card { flex-direction: column; text-align: center; padding: 16px; }
            .game-info { text-align: center; }
            .game-title { justify-content: center; }
            .game-meta { justify-content: center; }
            .game-image { width: 100%; height: auto; aspect-ratio: 460/215; max-width: 200px; }
            .section-tabs { gap: 6px; }
            .section-tab { padding: 6px 10px; font-size: 11px; }
        }
    </style>
</head>
<body>
    <div class="bg-ambient"></div>
    <header class="header">
        <div class="logo">
            <div class="logo-icon">
                <svg viewBox="0 0 65 65"><path d="M32.5 0C14.6 0 0 14.6 0 32.5c0 15.9 11.5 29.1 26.6 31.8l12.2-17.4c5.5-.2 10.5-2.6 14.1-6.2 7.3-7.3 7.3-19.1 0-26.4-7.3-7.3-19.1-7.3-26.4 0-3.9 3.9-5.8 9.2-5.6 14.4L7.4 43.9C2.8 39.5 0 33.3 0 26.5 0 11.9 11.9 0 26.5 0h6zm10.7 21.1c4.9 0 8.9 4 8.9 8.9s-4 8.9-8.9 8.9-8.9-4-8.9-8.9 4-8.9 8.9-8.9z"/></svg>
            </div>
            <div class="logo-text">SMGEN</div>
        </div>
        <div class="vip-badge">Manifest Generator</div>
    </header>

    <main class="main">
        <div class="hero">
            <h1>Steam Manifest Library</h1>
            <p>Search and download game manifests with DRM info. Filter by publisher or protection type.</p>
        </div>

        <div class="stats">
            <div class="stat"><div class="stat-value" id="game-count">0</div><div class="stat-label">Total</div></div>
            <div class="stat"><div class="stat-value" id="available-count">0</div><div class="stat-label">Available</div></div>
            <div class="stat"><div class="stat-value" id="denuvo-count">0</div><div class="stat-label">Denuvo</div></div>
            <div class="stat"><div class="stat-value" id="drm-free-count">0</div><div class="stat-label">DRM-Free</div></div>
            <div class="stat"><div class="stat-value" id="download-count">0</div><div class="stat-label">Downloads</div></div>
        </div>

        <div class="search-container">
            <div class="search-box">
                <svg class="search-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
                <input type="text" class="search-input" id="searchInput" placeholder="Search games by name or App ID..." autocomplete="off">
            </div>
        </div>

        <div class="section-tabs" id="sectionTabs">
            <button class="section-tab active" data-section="all">All <span class="count" id="count-all">0</span></button>
            <button class="section-tab" data-section="valve">Valve <span class="count" id="count-valve">0</span></button>
            <button class="section-tab" data-section="rockstar">Rockstar <span class="count" id="count-rockstar">0</span></button>
            <button class="section-tab" data-section="ea">EA <span class="count" id="count-ea">0</span></button>
            <button class="section-tab" data-section="ubisoft">Ubisoft <span class="count" id="count-ubisoft">0</span></button>
            <button class="section-tab" data-section="denuvo">Denuvo <span class="count" id="count-denuvo">0</span></button>
            <button class="section-tab" data-section="drm-free">DRM-Free <span class="count" id="count-drm-free">0</span></button>
            <button class="section-tab" data-section="unavailable">Unavailable <span class="count" id="count-unavailable">0</span></button>
        </div>

        <div class="results-info" id="resultsInfo"></div>
        <div class="results" id="results"></div>
        <button class="load-more" id="loadMore" style="display:none;">Load More Games</button>

        <div class="instructions">
            <h3>üìã How to Use</h3>
            <ol>
                <li>Search for your game or use section tabs to filter</li>
                <li>Click download to get the <code>.lua</code> manifest</li>
                <li>Move file to <code>SteamTools/Manifests</code></li>
                <li>Restart Steam</li>
            </ol>
            <div class="legend">
                <h4>Badge Legend</h4>
                <div class="legend-items">
                    <div class="legend-item"><span class="badge badge-valve">VALVE</span> Valve games</div>
                    <div class="legend-item"><span class="badge badge-denuvo">DENUVO</span> Has Denuvo</div>
                    <div class="legend-item"><span class="badge badge-drm-free">DRM-FREE</span> No DRM</div>
                    <div class="legend-item"><span class="badge badge-rockstar">R‚òÖ</span> Rockstar (unavailable)</div>
                    <div class="legend-item"><span class="badge badge-ea">EA</span> EA App required</div>
                    <div class="legend-item"><span class="badge badge-ubisoft">UBI</span> Ubisoft Connect</div>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">SMGEN ¬∑ Not affiliated with Steam or Valve</footer>

    <div class="toast" id="toast"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="18" height="18"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg><span id="toast-message">Downloaded!</span></div>

    <script>
        const games = [
            // VALVE GAMES
            { name: "Half-Life 2", appId: "220", publisher: "valve", drmFree: true, depots: [{ depotId: "221", manifestId: "7829931797754166964" }] },
            { name: "Half-Life 2: Episode One", appId: "380", publisher: "valve", drmFree: true, depots: [{ depotId: "381", manifestId: "5765982474774567843" }] },
            { name: "Half-Life 2: Episode Two", appId: "420", publisher: "valve", drmFree: true, depots: [{ depotId: "421", manifestId: "6847291058472910584" }] },
            { name: "Half-Life: Alyx", appId: "546560", publisher: "valve", drmFree: true, depots: [{ depotId: "546561", manifestId: "8374829183748291837" }] },
            { name: "Half-Life", appId: "70", publisher: "valve", drmFree: true, depots: [{ depotId: "71", manifestId: "4958372049583720495" }] },
            { name: "Half-Life: Source", appId: "280", publisher: "valve", drmFree: true, depots: [{ depotId: "281", manifestId: "7584920375849203758" }] },
            { name: "Portal", appId: "400", publisher: "valve", drmFree: true, depots: [{ depotId: "401", manifestId: "1029384710293847102" }] },
            { name: "Portal 2", appId: "620", publisher: "valve", drmFree: true, depots: [{ depotId: "621", manifestId: "2938471029384710293" }] },
            { name: "Counter-Strike 2", appId: "730", publisher: "valve", drmFree: true, depots: [{ depotId: "731", manifestId: "4756291847562918475" }] },
            { name: "Counter-Strike: Source", appId: "240", publisher: "valve", drmFree: true, depots: [{ depotId: "241", manifestId: "5847291058472910584" }] },
            { name: "Counter-Strike 1.6", appId: "10", publisher: "valve", drmFree: true, depots: [{ depotId: "11", manifestId: "8574920185749201857" }] },
            { name: "Team Fortress 2", appId: "440", publisher: "valve", drmFree: true, depots: [{ depotId: "441", manifestId: "9384720193847201938" }] },
            { name: "Left 4 Dead", appId: "500", publisher: "valve", drmFree: true, depots: [{ depotId: "501", manifestId: "2958471029584710295" }] },
            { name: "Left 4 Dead 2", appId: "550", publisher: "valve", drmFree: true, depots: [{ depotId: "551", manifestId: "3847291038472910384" }] },
            { name: "Dota 2", appId: "570", publisher: "valve", drmFree: true, depots: [{ depotId: "571", manifestId: "4758201047582010475" }] },
            { name: "Aperture Desk Job", appId: "1902490", publisher: "valve", drmFree: true, depots: [{ depotId: "1902491", manifestId: "4857201048572010485" }] },

            // ROCKSTAR GAMES (UNAVAILABLE)
            { name: "Grand Theft Auto V", appId: "271590", publisher: "rockstar", unavailable: true, unavailableReason: "Requires Rockstar Launcher", depots: [{ depotId: "271591", manifestId: "7509048598561981671" }] },
            { name: "Grand Theft Auto V: Enhanced", appId: "3240220", publisher: "rockstar", unavailable: true, unavailableReason: "Requires Rockstar Launcher", depots: [{ depotId: "3240221", manifestId: "8906022740565578137" }] },
            { name: "Red Dead Redemption 2", appId: "1174180", publisher: "rockstar", unavailable: true, unavailableReason: "Requires Rockstar Launcher", depots: [{ depotId: "1174181", manifestId: "8477312052549849498" }] },
            { name: "Grand Theft Auto IV", appId: "12210", publisher: "rockstar", unavailable: true, unavailableReason: "Requires Rockstar Launcher", depots: [{ depotId: "12211", manifestId: "5765432109876543210" }] },
            { name: "Grand Theft Auto: San Andreas", appId: "12120", publisher: "rockstar", unavailable: true, unavailableReason: "Requires Rockstar Launcher", depots: [{ depotId: "12121", manifestId: "6654321098765432109" }] },
            { name: "L.A. Noire", appId: "110800", publisher: "rockstar", unavailable: true, unavailableReason: "Requires Rockstar Launcher", depots: [{ depotId: "110801", manifestId: "1234567890123456789" }] },
            { name: "Max Payne 3", appId: "204100", publisher: "rockstar", unavailable: true, unavailableReason: "Requires Rockstar Launcher", depots: [{ depotId: "204101", manifestId: "5678901234567890123" }] },
            { name: "Bully: Scholarship Edition", appId: "12200", publisher: "rockstar", unavailable: true, unavailableReason: "Requires Rockstar Launcher", depots: [{ depotId: "12201", manifestId: "9876543210987654321" }] },

            // EA GAMES (UNAVAILABLE)
            { name: "Battlefield 2042", appId: "1517290", publisher: "ea", unavailable: true, unavailableReason: "Requires EA App", depots: [{ depotId: "1517291", manifestId: "4839274839274839274" }] },
            { name: "Apex Legends", appId: "1172470", publisher: "ea", unavailable: true, unavailableReason: "Requires EA App", depots: [{ depotId: "1172471", manifestId: "8574920185749201857" }] },
            { name: "EA Sports FC 24", appId: "2195250", publisher: "ea", unavailable: true, unavailableReason: "Requires EA App", depots: [{ depotId: "2195251", manifestId: "1029384710293847102" }] },
            { name: "Star Wars Jedi: Survivor", appId: "1774580", publisher: "ea", denuvo: true, unavailable: true, unavailableReason: "Requires EA App", depots: [{ depotId: "1774581", manifestId: "9384720193847201938" }] },
            { name: "Star Wars Jedi: Fallen Order", appId: "1172380", publisher: "ea", denuvo: true, unavailable: true, unavailableReason: "Requires EA App", depots: [{ depotId: "1172381", manifestId: "1029384710293847103" }] },
            { name: "Mass Effect Legendary Edition", appId: "1328670", publisher: "ea", unavailable: true, unavailableReason: "Requires EA App", depots: [{ depotId: "1328671", manifestId: "4756291847562918476" }] },
            { name: "Dead Space (2023)", appId: "1693980", publisher: "ea", denuvo: true, unavailable: true, unavailableReason: "Requires EA App", depots: [{ depotId: "1693981", manifestId: "6938201069382010694" }] },
            { name: "The Sims 4", appId: "1222670", publisher: "ea", unavailable: true, unavailableReason: "Requires EA App", depots: [{ depotId: "1222671", manifestId: "7849201078492010785" }] },
            { name: "It Takes Two", appId: "1426210", publisher: "ea", unavailable: true, unavailableReason: "Requires EA App", depots: [{ depotId: "1426211", manifestId: "8574920185749201858" }] },

            // UBISOFT GAMES (UNAVAILABLE)
            { name: "Assassin's Creed Mirage", appId: "2208920", publisher: "ubisoft", denuvo: true, unavailable: true, unavailableReason: "Requires Ubisoft Connect", depots: [{ depotId: "2208921", manifestId: "9384720193847201940" }] },
            { name: "Assassin's Creed Valhalla", appId: "2208910", publisher: "ubisoft", denuvo: true, unavailable: true, unavailableReason: "Requires Ubisoft Connect", depots: [{ depotId: "2208911", manifestId: "1029384710293847105" }] },
            { name: "Far Cry 6", appId: "2369390", publisher: "ubisoft", denuvo: true, unavailable: true, unavailableReason: "Requires Ubisoft Connect", depots: [{ depotId: "2369391", manifestId: "4756291847562918478" }] },
            { name: "Rainbow Six Siege", appId: "359550", publisher: "ubisoft", unavailable: true, unavailableReason: "Requires Ubisoft Connect", depots: [{ depotId: "359551", manifestId: "9384720193847201941" }] },
            { name: "Watch Dogs: Legion", appId: "2289850", publisher: "ubisoft", denuvo: true, unavailable: true, unavailableReason: "Requires Ubisoft Connect", depots: [{ depotId: "2289851", manifestId: "7849201078492010787" }] },
            { name: "The Division 2", appId: "2221490", publisher: "ubisoft", unavailable: true, unavailableReason: "Requires Ubisoft Connect", depots: [{ depotId: "2221491", manifestId: "2938471029384710297" }] },
            { name: "Avatar: Frontiers of Pandora", appId: "2177620", publisher: "ubisoft", denuvo: true, unavailable: true, unavailableReason: "Requires Ubisoft Connect", depots: [{ depotId: "2177621", manifestId: "7849201078492010788" }] },

            // DENUVO GAMES (Available)
            { name: "Hogwarts Legacy", appId: "990080", denuvo: true, depots: [{ depotId: "990081", manifestId: "3689607233666352456" }] },
            { name: "Elden Ring", appId: "1245620", denuvo: true, depots: [{ depotId: "1245621", manifestId: "6793002322587498957" }] },
            { name: "Tekken 8", appId: "1778820", denuvo: true, depots: [{ depotId: "1778821", manifestId: "6938201069382010699" }] },
            { name: "Street Fighter 6", appId: "1364780", denuvo: true, depots: [{ depotId: "1364781", manifestId: "8574920185749201862" }] },
            { name: "Mortal Kombat 1", appId: "1971870", denuvo: true, depots: [{ depotId: "1971871", manifestId: "7849201078492010790" }] },
            { name: "Armored Core VI", appId: "1888160", denuvo: true, depots: [{ depotId: "1888161", manifestId: "9384720193847201943" }] },
            { name: "Dragon's Dogma 2", appId: "2054970", denuvo: true, depots: [{ depotId: "2054971", manifestId: "5847291058472910590" }] },
            { name: "Resident Evil 4 (2023)", appId: "2050650", denuvo: true, depots: [{ depotId: "2050651", manifestId: "1029384710293847108" }] },
            { name: "Resident Evil Village", appId: "1196590", denuvo: true, depots: [{ depotId: "1196591", manifestId: "2938471029384710299" }] },
            { name: "Final Fantasy XVI", appId: "2515020", denuvo: true, depots: [{ depotId: "2515021", manifestId: "3847102938471029390" }] },
            { name: "Final Fantasy VII Remake", appId: "1462040", denuvo: true, depots: [{ depotId: "1462041", manifestId: "5847291058472910591" }] },
            { name: "Like a Dragon: Infinite Wealth", appId: "2072450", denuvo: true, depots: [{ depotId: "2072451", manifestId: "6938201069382010700" }] },
            { name: "Persona 3 Reload", appId: "2161700", denuvo: true, depots: [{ depotId: "2161701", manifestId: "7849201078492010791" }] },
            { name: "Starfield", appId: "1716740", denuvo: true, depots: [{ depotId: "1716741", manifestId: "9384720193847201946" }] },
            { name: "Diablo IV", appId: "2344520", denuvo: true, depots: [{ depotId: "2344521", manifestId: "1029384710293847111" }] },
            { name: "God of War Ragnar√∂k", appId: "2322010", denuvo: true, depots: [{ depotId: "2322011", manifestId: "4765432109876543214" }] },
            { name: "Spider-Man Remastered", appId: "1817070", denuvo: true, depots: [{ depotId: "1817071", manifestId: "5654321098765432103" }] },
            { name: "Spider-Man: Miles Morales", appId: "1817190", denuvo: true, depots: [{ depotId: "1817191", manifestId: "6543210987654321102" }] },
            { name: "Horizon Forbidden West", appId: "2420110", denuvo: true, depots: [{ depotId: "2420111", manifestId: "9210987654321098769" }] },
            { name: "The Last of Us Part I", appId: "1888930", denuvo: true, depots: [{ depotId: "1888931", manifestId: "1098765432109876548" }] },
            { name: "Ghost of Tsushima", appId: "2215430", denuvo: true, depots: [{ depotId: "2215431", manifestId: "8321098765432109881" }] },
            { name: "Helldivers 2", appId: "553850", denuvo: true, depots: [{ depotId: "553851", manifestId: "9210987654321098770" }] },
            { name: "Alan Wake 2", appId: "2715500", denuvo: true, depots: [{ depotId: "2715501", manifestId: "3876543210987654334" }] },
            { name: "Warhammer 40K: Space Marine 2", appId: "2183900", denuvo: true, depots: [{ depotId: "2183901", manifestId: "3847102938471029391" }] },
            { name: "Lies of P", appId: "1627720", denuvo: true, depots: [{ depotId: "1627721", manifestId: "4756291847562918483" }] },
            { name: "DOOM Eternal", appId: "782330", denuvo: true, depots: [{ depotId: "782331", manifestId: "4756291847562918485" }] },
            { name: "Monster Hunter Rise", appId: "1446780", denuvo: true, depots: [{ depotId: "1446781", manifestId: "5847291058472910594" }] },
            { name: "Dying Light 2", appId: "534380", denuvo: true, depots: [{ depotId: "534381", manifestId: "2938471029384710301" }] },
            { name: "Forza Horizon 5", appId: "1551360", denuvo: true, depots: [{ depotId: "1551361", manifestId: "8574920185749201867" }] },
            { name: "Halo Infinite", appId: "1240440", denuvo: true, depots: [{ depotId: "1240441", manifestId: "7849201078492010795" }] },

            // DRM-FREE GAMES
            { name: "Cyberpunk 2077", appId: "1091500", drmFree: true, depots: [{ depotId: "1091501", manifestId: "7561906995606504576" }] },
            { name: "The Witcher 3: Wild Hunt", appId: "292030", drmFree: true, depots: [{ depotId: "292031", manifestId: "5765432109876543210" }] },
            { name: "Baldur's Gate 3", appId: "1086940", drmFree: true, depots: [{ depotId: "1086941", manifestId: "7432109876543210989" }] },
            { name: "Hollow Knight", appId: "367520", drmFree: true, depots: [{ depotId: "367521", manifestId: "9321098765432109876" }] },
            { name: "Celeste", appId: "504230", drmFree: true, depots: [{ depotId: "504231", manifestId: "1098765432109876543" }] },
            { name: "Hades", appId: "1145360", drmFree: true, depots: [{ depotId: "1145361", manifestId: "2987654321098765432" }] },
            { name: "Hades II", appId: "1145350", drmFree: true, depots: [{ depotId: "1145351", manifestId: "3876543210987654321" }] },
            { name: "Dead Cells", appId: "588650", drmFree: true, depots: [{ depotId: "588651", manifestId: "4765432109876543210" }] },
            { name: "Cuphead", appId: "268910", drmFree: true, depots: [{ depotId: "268911", manifestId: "5654321098765432109" }] },
            { name: "Stardew Valley", appId: "413150", drmFree: true, depots: [{ depotId: "413151", manifestId: "6543210987654321098" }] },
            { name: "Terraria", appId: "105600", drmFree: true, depots: [{ depotId: "105601", manifestId: "7432109876543210987" }] },
            { name: "Undertale", appId: "391540", drmFree: true, depots: [{ depotId: "391541", manifestId: "8321098765432109876" }] },
            { name: "Stray", appId: "1332010", drmFree: true, depots: [{ depotId: "1332011", manifestId: "1098765432109876544" }] },
            { name: "Vampire Survivors", appId: "1794680", drmFree: true, depots: [{ depotId: "1794681", manifestId: "2987654321098765433" }] },
            { name: "Disco Elysium", appId: "632470", drmFree: true, depots: [{ depotId: "632471", manifestId: "3876543210987654322" }] },
            { name: "Outer Wilds", appId: "753640", drmFree: true, depots: [{ depotId: "753641", manifestId: "4765432109876543211" }] },
            { name: "Inscryption", appId: "1092790", drmFree: true, depots: [{ depotId: "1092791", manifestId: "6543210987654321099" }] },
            { name: "Slay the Spire", appId: "646570", drmFree: true, depots: [{ depotId: "646571", manifestId: "7432109876543210988" }] },
            { name: "RimWorld", appId: "294100", drmFree: true, depots: [{ depotId: "294101", manifestId: "8321098765432109877" }] },
            { name: "Factorio", appId: "427520", drmFree: true, depots: [{ depotId: "427521", manifestId: "9210987654321098766" }] },
            { name: "Satisfactory", appId: "526870", drmFree: true, depots: [{ depotId: "526871", manifestId: "1098765432109876545" }] },
            { name: "Valheim", appId: "892970", drmFree: true, depots: [{ depotId: "892971", manifestId: "2987654321098765434" }] },
            { name: "Subnautica", appId: "264710", drmFree: true, depots: [{ depotId: "264711", manifestId: "3876543210987654323" }] },
            { name: "No Man's Sky", appId: "275850", drmFree: true, depots: [{ depotId: "275851", manifestId: "5654321098765432101" }] },
            { name: "Deep Rock Galactic", appId: "548430", drmFree: true, depots: [{ depotId: "548431", manifestId: "8321098765432109890" }] },
            { name: "Palworld", appId: "1623730", drmFree: true, depots: [{ depotId: "1623731", manifestId: "7432109876543211001" }] },
            { name: "Lethal Company", appId: "1966720", drmFree: true, depots: [{ depotId: "1966721", manifestId: "3847102938471029419" }] },
            { name: "Phasmophobia", appId: "739630", drmFree: true, depots: [{ depotId: "739631", manifestId: "4765432109876543222" }] },
            { name: "Sons of the Forest", appId: "1326470", drmFree: true, depots: [{ depotId: "1326471", manifestId: "7432109876543210999" }] },
            { name: "God of War", appId: "1593500", drmFree: true, depots: [{ depotId: "1593501", manifestId: "3876543210987654325" }] },
            { name: "Divinity: Original Sin 2", appId: "435150", drmFree: true, depots: [{ depotId: "435151", manifestId: "6543210987654321100" }] },
            { name: "Crusader Kings III", appId: "1158310", drmFree: true, depots: [{ depotId: "1158311", manifestId: "1098765432109876546" }] },
            { name: "Stellaris", appId: "281990", drmFree: true, depots: [{ depotId: "281991", manifestId: "2987654321098765435" }] },
            { name: "Control Ultimate Edition", appId: "870780", drmFree: true, depots: [{ depotId: "870781", manifestId: "5654321098765432112" }] },
            { name: "Sekiro: Shadows Die Twice", appId: "814380", drmFree: true, depots: [{ depotId: "814381", manifestId: "5847291058472910595" }] },
            { name: "Dark Souls III", appId: "374320", drmFree: true, depots: [{ depotId: "374321", manifestId: "6938201069382010704" }] },
            { name: "Dark Souls: Remastered", appId: "570940", drmFree: true, depots: [{ depotId: "570941", manifestId: "3876543210987654327" }] },
            { name: "Yakuza 0", appId: "638970", drmFree: true, depots: [{ depotId: "638971", manifestId: "3876543210987654328" }] },
            { name: "Persona 4 Golden", appId: "1113000", drmFree: true, depots: [{ depotId: "1113001", manifestId: "3876543210987654329" }] },
            { name: "Horizon Zero Dawn", appId: "1151640", drmFree: true, depots: [{ depotId: "1151641", manifestId: "8321098765432109880" }] },
            { name: "Days Gone", appId: "1259420", drmFree: true, depots: [{ depotId: "1259421", manifestId: "2987654321098765437" }] },
            { name: "Death Stranding", appId: "1850570", drmFree: true, depots: [{ depotId: "1850571", manifestId: "3876543210987654326" }] },
            { name: "Returnal", appId: "1649240", drmFree: true, depots: [{ depotId: "1649241", manifestId: "5654321098765432104" }] },
            { name: "Uncharted: Legacy of Thieves", appId: "1659420", drmFree: true, depots: [{ depotId: "1659421", manifestId: "4765432109876543215" }] },
            { name: "Ratchet & Clank: Rift Apart", appId: "1895880", drmFree: true, depots: [{ depotId: "1895881", manifestId: "6543210987654321103" }] },
            { name: "NieR: Automata", appId: "524220", drmFree: true, depots: [{ depotId: "524221", manifestId: "8321098765432109884" }] },
            { name: "Monster Hunter: World", appId: "582010", drmFree: true, depots: [{ depotId: "582011", manifestId: "6543210987654321104" }] },
            { name: "Devil May Cry 5", appId: "601150", drmFree: true, depots: [{ depotId: "601151", manifestId: "6938201069382010703" }] },
            { name: "Resident Evil 2", appId: "883710", drmFree: true, depots: [{ depotId: "883711", manifestId: "7849201078492010794" }] },
            { name: "Resident Evil 7", appId: "418370", drmFree: true, depots: [{ depotId: "418371", manifestId: "9210987654321098771" }] },
            { name: "Euro Truck Simulator 2", appId: "227300", drmFree: true, depots: [{ depotId: "227301", manifestId: "9210987654321098785" }] },
            { name: "BeamNG.drive", appId: "284160", drmFree: true, depots: [{ depotId: "284161", manifestId: "6543210987654321119" }] },
            { name: "Cities: Skylines", appId: "255710", drmFree: true, depots: [{ depotId: "255711", manifestId: "6543210987654321101" }] },
            { name: "Kerbal Space Program", appId: "220200", drmFree: true, depots: [{ depotId: "220201", manifestId: "7432109876543210990" }] },
            { name: "Project Zomboid", appId: "108600", drmFree: true, depots: [{ depotId: "108601", manifestId: "4756291847562918503" }] },
            { name: "Rust", appId: "252490", drmFree: true, depots: [{ depotId: "252491", manifestId: "9384720193847201965" }] },
            { name: "7 Days to Die", appId: "251570", drmFree: true, depots: [{ depotId: "251571", manifestId: "3847102938471029412" }] },
            { name: "ARK: Survival Evolved", appId: "346110", drmFree: true, depots: [{ depotId: "346111", manifestId: "4765432109876543225" }] },
            { name: "The Forest", appId: "242760", drmFree: true, depots: [{ depotId: "242761", manifestId: "8321098765432109888" }] },
            { name: "Amnesia: The Dark Descent", appId: "57300", drmFree: true, depots: [{ depotId: "57301", manifestId: "6543210987654321109" }] },
            { name: "SOMA", appId: "282140", drmFree: true, depots: [{ depotId: "282141", manifestId: "7432109876543210998" }] },
            { name: "Outlast", appId: "238320", drmFree: true, depots: [{ depotId: "238321", manifestId: "1098765432109876555" }] },
            { name: "The Evil Within 2", appId: "601430", drmFree: true, depots: [{ depotId: "601431", manifestId: "6543210987654321111" }] },
            { name: "Ultrakill", appId: "1229490", drmFree: true, depots: [{ depotId: "1229491", manifestId: "4765432109876543230" }] },
            { name: "DUSK", appId: "519860", drmFree: true, depots: [{ depotId: "519861", manifestId: "5654321098765432119" }] },
            { name: "Katana ZERO", appId: "460950", drmFree: true, depots: [{ depotId: "460951", manifestId: "1098765432109876562" }] },
            { name: "Hotline Miami", appId: "219150", drmFree: true, depots: [{ depotId: "219151", manifestId: "2987654321098765451" }] },
            { name: "Risk of Rain 2", appId: "632360", drmFree: true, depots: [{ depotId: "632361", manifestId: "2987654321098765450" }] },
            { name: "Enter the Gungeon", appId: "311690", drmFree: true, depots: [{ depotId: "311691", manifestId: "1098765432109876561" }] },
            { name: "Darkest Dungeon", appId: "262060", drmFree: true, depots: [{ depotId: "262061", manifestId: "5654321098765432117" }] },
            { name: "The Binding of Isaac: Rebirth", appId: "250900", drmFree: true, depots: [{ depotId: "250901", manifestId: "6543210987654321116" }] },
            { name: "Frostpunk", appId: "323190", drmFree: true, depots: [{ depotId: "323191", manifestId: "8321098765432109879" }] },
            { name: "Manor Lords", appId: "1363080", drmFree: true, depots: [{ depotId: "1363081", manifestId: "9210987654321098768" }] },
            { name: "Dwarf Fortress", appId: "975370", drmFree: true, depots: [{ depotId: "975371", manifestId: "8574920185749201890" }] }
        ];

        // State
        let currentSection = 'all';
        let currentSearch = '';
        let displayCount = 50;

        // DOM Elements
        const searchInput = document.getElementById('searchInput');
        const resultsContainer = document.getElementById('results');
        const resultsInfo = document.getElementById('resultsInfo');
        const loadMoreBtn = document.getElementById('loadMore');
        const toast = document.getElementById('toast');
        const toastMessage = document.getElementById('toast-message');

        // Generate manifest content
        function generateLuaContent(game) {
            let content = `-- ${game.name}\n-- App ID: ${game.appId}\n-- Generated by SMGEN\n\n`;
            content += `addappid(${game.appId}, 1, "${game.name}")\n\n`;
            game.depots.forEach(d => {
                content += `addappid(${d.depotId}, 1, "${game.name}")\n`;
                content += `setManifestid(${d.depotId}, "${d.manifestId}")\n\n`;
            });
            return content;
        }

        // Download manifest
        function downloadManifest(index) {
            const game = games[index];
            if (!game || game.unavailable) {
                showToast('This game is unavailable', true);
                return;
            }

            const btn = document.querySelector(`[data-index="${index}"]`);
            if (btn) {
                btn.disabled = true;
                btn.innerHTML = '<div class="spinner"></div>';
            }

            setTimeout(() => {
                const content = generateLuaContent(game);
                const blob = new Blob([content], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `${game.appId}.lua`;
                a.click();
                URL.revokeObjectURL(url);

                incrementDownload();
                showToast(`${game.name} downloaded!`);

                if (btn) {
                    btn.classList.add('success');
                    btn.innerHTML = '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg> Done';
                    setTimeout(() => {
                        btn.disabled = false;
                        btn.classList.remove('success');
                        btn.innerHTML = '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7,10 12,15 17,10"/><line x1="12" y1="15" x2="12" y2="3"/></svg> Download';
                    }, 2000);
                }
            }, 300);
        }

        function showToast(message, isError = false) {
            toastMessage.textContent = message;
            toast.classList.toggle('error', isError);
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 3000);
        }

        function getDownloadCount() {
            return parseInt(localStorage.getItem('smgenDownloads') || '0');
        }

        function incrementDownload() {
            const count = getDownloadCount() + 1;
            localStorage.setItem('smgenDownloads', count.toString());
            document.getElementById('download-count').textContent = count;
        }

        function getGameImage(appId) {
            return `https://cdn.akamai.steamstatic.com/steam/apps/${appId}/capsule_231x87.jpg`;
        }

        // Filter games
        function filterGames() {
            let filtered = games;

            // Section filter
            if (currentSection !== 'all') {
                if (currentSection === 'valve') filtered = games.filter(g => g.publisher === 'valve');
                else if (currentSection === 'rockstar') filtered = games.filter(g => g.publisher === 'rockstar');
                else if (currentSection === 'ea') filtered = games.filter(g => g.publisher === 'ea');
                else if (currentSection === 'ubisoft') filtered = games.filter(g => g.publisher === 'ubisoft');
                else if (currentSection === 'denuvo') filtered = games.filter(g => g.denuvo && !g.unavailable);
                else if (currentSection === 'drm-free') filtered = games.filter(g => g.drmFree && !g.unavailable);
                else if (currentSection === 'unavailable') filtered = games.filter(g => g.unavailable);
            }

            // Search filter
            if (currentSearch) {
                const search = currentSearch.toLowerCase();
                filtered = filtered.filter(g => 
                    g.name.toLowerCase().includes(search) || g.appId.includes(search)
                );
            }

            return filtered;
        }

        // Render game card
        function renderGameCard(game, index) {
            const isUnavailable = game.unavailable;
            const cardClasses = ['game-card'];
            if (isUnavailable) cardClasses.push('unavailable');
            if (game.denuvo && !isUnavailable) cardClasses.push('denuvo-game');
            if (game.publisher === 'valve') cardClasses.push('valve-game');
            if (game.drmFree && !isUnavailable) cardClasses.push('drm-free-game');

            let badges = '';
            if (game.publisher === 'valve') badges += '<span class="badge badge-valve">VALVE</span>';
            if (game.publisher === 'rockstar') badges += '<span class="badge badge-rockstar">R‚òÖ</span>';
            if (game.publisher === 'ea') badges += '<span class="badge badge-ea">EA</span>';
            if (game.publisher === 'ubisoft') badges += '<span class="badge badge-ubisoft">UBI</span>';
            if (game.denuvo) badges += '<span class="badge badge-denuvo">DENUVO</span>';
            if (game.drmFree && !game.publisher) badges += '<span class="badge badge-drm-free">DRM-FREE</span>';
            if (isUnavailable) badges += '<span class="badge badge-unavailable">UNAVAILABLE</span>';

            return `
                <div class="${cardClasses.join(' ')}">
                    <div class="game-image-container">
                        <img class="game-image" src="${getGameImage(game.appId)}" alt="${game.name}" onerror="this.style.display='none'">
                        ${isUnavailable ? '<div class="unavailable-overlay"><span class="unavailable-badge-img">Unavailable</span></div>' : ''}
                    </div>
                    <div class="game-info">
                        <div class="game-title">${game.name}<div class="game-badges">${badges}</div></div>
                        <div class="game-meta">
                            <span>App ID: <span class="meta-value">${game.appId}</span></span>
                            ${isUnavailable ? `<span style="color:#f87171;font-size:10px;">${game.unavailableReason}</span>` : ''}
                        </div>
                    </div>
                    <button class="download-btn ${isUnavailable ? 'unavailable-btn' : ''}" data-index="${index}" onclick="${isUnavailable ? `showToast('${game.unavailableReason}', true)` : `downloadManifest(${index})`}">
                        ${isUnavailable ? '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg> N/A' : '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7,10 12,15 17,10"/><line x1="12" y1="15" x2="12" y2="3"/></svg> Download'}
                    </button>
                </div>
            `;
        }

        // Render results
        function renderResults() {
            const filtered = filterGames();
            const toShow = filtered.slice(0, displayCount);

            if (toShow.length === 0) {
                resultsContainer.innerHTML = '<div class="no-results"><div style="font-size:48px;opacity:0.5;margin-bottom:16px;">üîç</div><p>No games found</p></div>';
                resultsInfo.innerHTML = '';
                loadMoreBtn.style.display = 'none';
                return;
            }

            resultsInfo.innerHTML = `Showing <strong>${toShow.length}</strong> of <strong>${filtered.length}</strong> games`;
            resultsContainer.innerHTML = toShow.map((g, i) => {
                const originalIndex = games.indexOf(g);
                return renderGameCard(g, originalIndex);
            }).join('');

            loadMoreBtn.style.display = toShow.length < filtered.length ? 'block' : 'none';
        }

        // Update counts
        function updateCounts() {
            const total = games.length;
            const available = games.filter(g => !g.unavailable).length;
            const denuvo = games.filter(g => g.denuvo && !g.unavailable).length;
            const drmFree = games.filter(g => g.drmFree && !g.unavailable).length;
            const valve = games.filter(g => g.publisher === 'valve').length;
            const rockstar = games.filter(g => g.publisher === 'rockstar').length;
            const ea = games.filter(g => g.publisher === 'ea').length;
            const ubisoft = games.filter(g => g.publisher === 'ubisoft').length;
            const unavailable = games.filter(g => g.unavailable).length;

            document.getElementById('game-count').textContent = total;
            document.getElementById('available-count').textContent = available;
            document.getElementById('denuvo-count').textContent = denuvo;
            document.getElementById('drm-free-count').textContent = drmFree;
            document.getElementById('download-count').textContent = getDownloadCount();

            document.getElementById('count-all').textContent = total;
            document.getElementById('count-valve').textContent = valve;
            document.getElementById('count-rockstar').textContent = rockstar;
            document.getElementById('count-ea').textContent = ea;
            document.getElementById('count-ubisoft').textContent = ubisoft;
            document.getElementById('count-denuvo').textContent = denuvo;
            document.getElementById('count-drm-free').textContent = drmFree;
            document.getElementById('count-unavailable').textContent = unavailable;
        }

        // Event listeners
        searchInput.addEventListener('input', (e) => {
            currentSearch = e.target.value;
            displayCount = 50;
            renderResults();
        });

        document.querySelectorAll('.section-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.section-tab').forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                currentSection = tab.dataset.section;
                displayCount = 50;
                renderResults();
            });
        });

        loadMoreBtn.addEventListener('click', () => {
            displayCount += 50;
            renderResults();
        });

        // Initialize
        updateCounts();
        renderResults();
    </script>
</body>
</html>
